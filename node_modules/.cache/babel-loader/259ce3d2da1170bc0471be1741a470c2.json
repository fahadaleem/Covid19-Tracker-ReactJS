{"ast":null,"code":"import _toConsumableArray from \"/home/fahad/reactProjects/CovidTracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/fahad/reactProjects/CovidTracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/fahad/reactProjects/CovidTracker/src/Context/CovidContext.js\";\n\nimport React, { createContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nexport var CovidContext = createContext();\nexport var CovidContextProvider = function CovidContextProvider(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      countries = _useState2[0],\n      setCountries = _useState2[1];\n\n  var _useState3 = useState('pakistan'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      country = _useState4[0],\n      setChoosenCountry = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      covidData = _useState6[0],\n      setCovidData = _useState6[1]; // function for fetcing covid data\n\n\n  var getCovidData = function getCovidData() {\n    country = country ? country : \"Global\";\n    axios.request(\"https://covid19.mathdro.id/api/countries/\".concat(country)).then(function (response) {\n      return setCovidData(response.data);\n    });\n  }; // function for fetching the countries data\n\n\n  var getCountries = function getCountries() {\n    var options = {\n      method: 'GET',\n      url: 'https://ajayakv-rest-countries-v1.p.rapidapi.com/rest/v1/all',\n      headers: {\n        'x-rapidapi-key': '2874d7589cmsh9ed9581fd34423dp1f5b1bjsn3550819ba599',\n        'x-rapidapi-host': 'ajayakv-rest-countries-v1.p.rapidapi.com'\n      }\n    };\n    axios.request(options).then(function (response) {\n      setCountries([{\n        name: \"Global\"\n      }].concat(_toConsumableArray(response.data)));\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n\n  useEffect(function () {\n    getCountries();\n    getCovidData();\n    console.log(covidData);\n  }, [country]);\n  return /*#__PURE__*/React.createElement(CovidContext.Provider, {\n    value: {\n      countries,\n      setChoosenCountry,\n      changeCountry: country,\n      covidData\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 1\n    }\n  }, props.children);\n};","map":{"version":3,"sources":["/home/fahad/reactProjects/CovidTracker/src/Context/CovidContext.js"],"names":["React","createContext","useEffect","useState","axios","CovidContext","CovidContextProvider","props","countries","setCountries","country","setChoosenCountry","covidData","setCovidData","getCovidData","request","then","response","data","getCountries","options","method","url","headers","name","catch","error","console","log","changeCountry","children"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,aAAf,EAA8BC,SAA9B,EAAyCC,QAAzC,QAAwD,OAAxD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,IAAMC,YAAY,GAAGJ,aAAa,EAAlC;AAGP,OAAO,IAAMK,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,KAAD,EAAS;AAAA,kBAETJ,QAAQ,CAAC,EAAD,CAFC;AAAA;AAAA,MAEpCK,SAFoC;AAAA,MAEzBC,YAFyB;;AAAA,mBAIRN,QAAQ,CAAC,UAAD,CAJA;AAAA;AAAA,MAItCO,OAJsC;AAAA,MAI7BC,iBAJ6B;;AAAA,mBAMTR,QAAQ,CAAC,EAAD,CANC;AAAA;AAAA,MAMpCS,SANoC;AAAA,MAMzBC,YANyB,kBAQ3C;;;AAEA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAI;AAEvBJ,IAAAA,OAAO,GAAGA,OAAO,GAACA,OAAD,GAAS,QAA1B;AACCN,IAAAA,KAAK,CAACW,OAAN,oDAA0DL,OAA1D,GACCM,IADD,CACM,UAAAC,QAAQ;AAAA,aAAEJ,YAAY,CAACI,QAAQ,CAACC,IAAV,CAAd;AAAA,KADd;AAEF,GALD,CAV2C,CAkB3C;;;AAEA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAI;AACvB,QAAMC,OAAO,GAAG;AACdC,MAAAA,MAAM,EAAE,KADM;AAEdC,MAAAA,GAAG,EAAE,8DAFS;AAGdC,MAAAA,OAAO,EAAE;AACP,0BAAkB,oDADX;AAEP,2BAAmB;AAFZ;AAHK,KAAhB;AASAnB,IAAAA,KAAK,CAACW,OAAN,CAAcK,OAAd,EAAuBJ,IAAvB,CAA4B,UAAUC,QAAV,EAAoB;AAC9CR,MAAAA,YAAY,EAAE;AAACe,QAAAA,IAAI,EAAC;AAAN,OAAF,4BAAqBP,QAAQ,CAACC,IAA9B,GAAZ;AACD,KAFD,EAEGO,KAFH,CAES,UAAUC,KAAV,EAAiB;AACxBC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD,KAJD;AAMD,GAhBD;;AAkBAxB,EAAAA,SAAS,CAAC,YAAI;AAChBiB,IAAAA,YAAY;AACZL,IAAAA,YAAY;AACZa,IAAAA,OAAO,CAACC,GAAR,CAAYhB,SAAZ;AAEG,GALQ,EAKP,CAACF,OAAD,CALO,CAAT;AAUA,sBACF,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE;AAACF,MAAAA,SAAD;AAAYG,MAAAA,iBAAZ;AAA+BkB,MAAAA,aAAa,EAACnB,OAA7C;AAAsDE,MAAAA;AAAtD,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKL,KAAK,CAACuB,QADX,CADE;AAKD,CArDM","sourcesContent":["import React, {createContext, useEffect, useState} from \"react\"\r\nimport axios from \"axios\"\r\n\r\n\r\nexport const CovidContext = createContext();\r\n\r\n\r\nexport const CovidContextProvider = (props)=>{\r\n\r\n  const [countries, setCountries] = useState([]);\r\n\r\n  let [country, setChoosenCountry] = useState('pakistan');\r\n\r\n  const [covidData, setCovidData] = useState('');\r\n  \r\n  // function for fetcing covid data\r\n\r\n  const getCovidData = ()=>{\r\n\r\n    country = country?country:\"Global\";\r\n     axios.request(`https://covid19.mathdro.id/api/countries/${country}`)\r\n     .then(response=>setCovidData(response.data));\r\n  }\r\n\r\n\r\n  // function for fetching the countries data\r\n\r\n  const getCountries = ()=>{\r\n    const options = {\r\n      method: 'GET',\r\n      url: 'https://ajayakv-rest-countries-v1.p.rapidapi.com/rest/v1/all',\r\n      headers: {\r\n        'x-rapidapi-key': '2874d7589cmsh9ed9581fd34423dp1f5b1bjsn3550819ba599',\r\n        'x-rapidapi-host': 'ajayakv-rest-countries-v1.p.rapidapi.com'\r\n      }\r\n    };\r\n    \r\n    axios.request(options).then(function (response) {\r\n      setCountries([{name:\"Global\"},...response.data]);\r\n    }).catch(function (error) {\r\n      console.error(error);\r\n    });\r\n      \r\n  }\r\n\r\n  useEffect(()=>{\r\ngetCountries();\r\ngetCovidData();\r\nconsole.log(covidData);\r\n\r\n  },[country])\r\n\r\n\r\n\r\n\r\n  return(\r\n<CovidContext.Provider value={{countries, setChoosenCountry, changeCountry:country, covidData}}>\r\n    {props.children}\r\n  </CovidContext.Provider>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}